{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useReducer, useCallback } from 'react';\n\nfunction httpReducer(state, action) {\n  if (action.type === 'SEND') {\n    return {\n      data: null,\n      error: null,\n      status: 'pending'\n    };\n  }\n\n  if (action.type === 'SUCCESS') {\n    return {\n      data: action.responseData,\n      error: null,\n      status: 'completed'\n    };\n  }\n\n  if (action.type === 'ERROR') {\n    return {\n      data: null,\n      error: action.errorMessage,\n      status: 'completed'\n    };\n  }\n\n  return state;\n}\n\nfunction useHttp(requestFunction) {\n  _s();\n\n  let startWithPending = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  const [httpState, dispatch] = useReducer(httpReducer, {\n    status: startWithPending ? 'pending' : null,\n    data: null,\n    error: null\n  });\n  const sendRequest = useCallback(async function (requestData) {\n    dispatch({\n      type: 'SEND'\n    });\n\n    try {\n      const responseData = await requestFunction(requestData);\n      dispatch({\n        type: 'SUCCESS',\n        responseData\n      });\n    } catch (error) {\n      dispatch({\n        type: 'ERROR',\n        errorMessage: error.message || 'Something went wrong!'\n      });\n    }\n  }, [requestFunction]);\n  return {\n    sendRequest,\n    ...httpState\n  };\n}\n\n_s(useHttp, \"xq01vmc2nA/muK5BaPEhKQMsi+g=\");\n\nexport default useHttp;","map":{"version":3,"names":["useReducer","useCallback","httpReducer","state","action","type","data","error","status","responseData","errorMessage","useHttp","requestFunction","startWithPending","httpState","dispatch","sendRequest","requestData","message"],"sources":["C:/Users/Anastasia/Desktop/My progects/react-router/src/hooks/use-http.js"],"sourcesContent":["import { useReducer, useCallback } from 'react';\r\n\r\nfunction httpReducer(state, action) {\r\n    if (action.type === 'SEND') {\r\n        return {\r\n            data: null,\r\n            error: null,\r\n            status: 'pending',\r\n        };\r\n    }\r\n\r\n    if (action.type === 'SUCCESS') {\r\n        return {\r\n            data: action.responseData,\r\n            error: null,\r\n            status: 'completed',\r\n        };\r\n    }\r\n\r\n    if (action.type === 'ERROR') {\r\n        return {\r\n            data: null,\r\n            error: action.errorMessage,\r\n            status: 'completed',\r\n        };\r\n    }\r\n\r\n    return state;\r\n}\r\n\r\nfunction useHttp(requestFunction, startWithPending = false) {\r\n    const [httpState, dispatch] = useReducer(httpReducer, {\r\n        status: startWithPending ? 'pending' : null,\r\n        data: null,\r\n        error: null,\r\n    });\r\n\r\n    const sendRequest = useCallback(\r\n        async function (requestData) {\r\n            dispatch({ type: 'SEND' });\r\n            try {\r\n                const responseData = await requestFunction(requestData);\r\n                dispatch({ type: 'SUCCESS', responseData });\r\n            } catch (error) {\r\n                dispatch({\r\n                    type: 'ERROR',\r\n                    errorMessage: error.message || 'Something went wrong!',\r\n                });\r\n            }\r\n        },\r\n        [requestFunction]\r\n    );\r\n\r\n    return {\r\n        sendRequest,\r\n        ...httpState,\r\n    };\r\n}\r\n\r\nexport default useHttp;\r\n"],"mappings":";;AAAA,SAASA,UAAT,EAAqBC,WAArB,QAAwC,OAAxC;;AAEA,SAASC,WAAT,CAAqBC,KAArB,EAA4BC,MAA5B,EAAoC;EAChC,IAAIA,MAAM,CAACC,IAAP,KAAgB,MAApB,EAA4B;IACxB,OAAO;MACHC,IAAI,EAAE,IADH;MAEHC,KAAK,EAAE,IAFJ;MAGHC,MAAM,EAAE;IAHL,CAAP;EAKH;;EAED,IAAIJ,MAAM,CAACC,IAAP,KAAgB,SAApB,EAA+B;IAC3B,OAAO;MACHC,IAAI,EAAEF,MAAM,CAACK,YADV;MAEHF,KAAK,EAAE,IAFJ;MAGHC,MAAM,EAAE;IAHL,CAAP;EAKH;;EAED,IAAIJ,MAAM,CAACC,IAAP,KAAgB,OAApB,EAA6B;IACzB,OAAO;MACHC,IAAI,EAAE,IADH;MAEHC,KAAK,EAAEH,MAAM,CAACM,YAFX;MAGHF,MAAM,EAAE;IAHL,CAAP;EAKH;;EAED,OAAOL,KAAP;AACH;;AAED,SAASQ,OAAT,CAAiBC,eAAjB,EAA4D;EAAA;;EAAA,IAA1BC,gBAA0B,uEAAP,KAAO;EACxD,MAAM,CAACC,SAAD,EAAYC,QAAZ,IAAwBf,UAAU,CAACE,WAAD,EAAc;IAClDM,MAAM,EAAEK,gBAAgB,GAAG,SAAH,GAAe,IADW;IAElDP,IAAI,EAAE,IAF4C;IAGlDC,KAAK,EAAE;EAH2C,CAAd,CAAxC;EAMA,MAAMS,WAAW,GAAGf,WAAW,CAC3B,gBAAgBgB,WAAhB,EAA6B;IACzBF,QAAQ,CAAC;MAAEV,IAAI,EAAE;IAAR,CAAD,CAAR;;IACA,IAAI;MACA,MAAMI,YAAY,GAAG,MAAMG,eAAe,CAACK,WAAD,CAA1C;MACAF,QAAQ,CAAC;QAAEV,IAAI,EAAE,SAAR;QAAmBI;MAAnB,CAAD,CAAR;IACH,CAHD,CAGE,OAAOF,KAAP,EAAc;MACZQ,QAAQ,CAAC;QACLV,IAAI,EAAE,OADD;QAELK,YAAY,EAAEH,KAAK,CAACW,OAAN,IAAiB;MAF1B,CAAD,CAAR;IAIH;EACJ,CAZ0B,EAa3B,CAACN,eAAD,CAb2B,CAA/B;EAgBA,OAAO;IACHI,WADG;IAEH,GAAGF;EAFA,CAAP;AAIH;;GA3BQH,O;;AA6BT,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}